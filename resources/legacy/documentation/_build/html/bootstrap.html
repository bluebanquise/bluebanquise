

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>5. [Core] - Bootstrap base system &mdash; BlueBanquise Documentation 1.5.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="6. [Core] - Configure BlueBanquise" href="configure_bluebanquise.html" />
    <link rel="prev" title="4. [Training] - Ansible" href="training_ansible.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> BlueBanquise Documentation
          

          
            
            <img src="_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="vocabulary.html">2. Vocabulary</a></li>
<li class="toctree-l1"><a class="reference internal" href="training_sysadmin.html">3. [Training] - Cluster SysAdmin</a></li>
<li class="toctree-l1"><a class="reference internal" href="training_ansible.html">4. [Training] - Ansible</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">5. [Core] - Bootstrap base system</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#bootstrap-rhel-like-system">5.1. Bootstrap RHEL like system</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#isos-to-be-used">5.1.1. ISOs to be used</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#os-installation">5.1.1.1. OS installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#repositories">5.1.1.2. Repositories</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#copy-iso-on-system">5.1.2. Copy iso on system</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-os-repository">5.1.3. Set OS repository</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bluebanquise-and-extra">5.1.4. BlueBanquise and extra</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#download-ansible">5.1.4.1. Download Ansible</a></li>
<li class="toctree-l4"><a class="reference internal" href="#install-bluebanquise-and-ansible">5.1.4.2. Install BlueBanquise and Ansible</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bring-up-main-nic">5.1.4.3. Bring up main NIC</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#bootstrap-ubuntu-like-system">5.2. Bootstrap Ubuntu like system</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bootstrap-suse-like-system">5.3. Bootstrap SUSE like system</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configure_bluebanquise.html">6. [Core] - Configure BlueBanquise</a></li>
<li class="toctree-l1"><a class="reference internal" href="deploy_bluebanquise.html">7. [Core] - Deploy BlueBanquise</a></li>
<li class="toctree-l1"><a class="reference internal" href="multiple_icebergs.html">8. [Core] - Manage multiple icebergs</a></li>
<li class="toctree-l1"><a class="reference internal" href="diskless.html">9. [Core] - Diskless</a></li>
<li class="toctree-l1"><a class="reference internal" href="high_availability.html">10. [Community] - High Availability</a></li>
<li class="toctree-l1"><a class="reference internal" href="monitoring.html">11. [Community] - Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="containers.html">12. Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="stories.html">13. Stories</a></li>
<li class="toctree-l1"><a class="reference internal" href="roles.html">14. Roles list</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">15. References</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">BlueBanquise Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li><span class="section-number">5. </span>[Core] - Bootstrap base system</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/bootstrap.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="core-bootstrap-base-system">
<h1><span class="section-number">5. </span>[Core] - Bootstrap base system<a class="headerlink" href="#core-bootstrap-base-system" title="Permalink to this headline">¶</a></h1>
<p>BlueBanquise can be used to deploy from a simple IT room for students, to High
Performance Computing clusters. Configuration is the same in both cases, only
size and specialized roles are different.</p>
<p>In this documentation, most of the time, we will refer to “servers”, but any
kind of workstation will work the same way.</p>
<p>This documentation will cover the configuration of a very simple cluster:</p>
<img alt="_images/documentation_example_single_island.svg" class="align-center" src="_images/documentation_example_single_island.svg" /><p>More complex clusters are detailed later, once the generic part is done.</p>
<p>Note also that the documentation focus on main inventory parameters of the stack.
However, more features are available in the stack. Read roles Readme to learn
more about each role capabilities.</p>
<p>The first step is to bootstrap the first management server/workstation of the
cluster.</p>
<p>This procedure mainly depend on the Linux distribution chosen. Please follow the
target system procedure, but first step is to download iso and write it on an
USB device to install manually first management node operating system.</p>
<img alt="_images/linux_usb_stick.svg" class="align-center" src="_images/linux_usb_stick.svg" /><p>Depending of your Linux distribution, choose the bootstrap steps to follow:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#bootstrap-rhel-like-system"><span class="std std-ref">Bootstrap RHEL like system</span></a></p></li>
<li><p><a class="reference internal" href="#bootstrap-ubuntu-like-system"><span class="std std-ref">Bootstrap Ubuntu like system</span></a></p></li>
<li><p><a class="reference internal" href="#bootstrap-suse-like-system"><span class="std std-ref">Bootstrap SUSE like system</span></a></p></li>
</ul>
<div class="section" id="bootstrap-rhel-like-system">
<h2><span class="section-number">5.1. </span>Bootstrap RHEL like system<a class="headerlink" href="#bootstrap-rhel-like-system" title="Permalink to this headline">¶</a></h2>
<p>In the following documentation, the RHEL logo will means “this part is dedicated
to RHEL like distributions”, and so will concern the following distributions:</p>
<div style="padding: 6px;">
<b>RHEL</b> <img src="_static/logo_rhel.png">, <b>CentOS</b> <img src="_static/logo_centos.png">, <b>RockyLinux</b> <img src="_static/logo_rocky.png">, <b>OracleLinux</b> <img src="_static/logo_oraclelinux.png">, <b>CloudLinux</b> <img src="_static/logo_cloudlinux.png">, <b>AlmaLinux</b> <img src="_static/logo_almalinux.png">
</div><br><br><p>Currently supported and tested Linux RHEL like distributions are:</p>
<ul class="simple">
<li><dl class="simple">
<dt>Major version: 7</dt><dd><ul>
<li><p>RHEL</p></li>
<li><p>CentOS</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Major version: 8</dt><dd><ul>
<li><p>RHEL</p></li>
<li><p>CentOS</p></li>
<li><p>CentOS-Stream</p></li>
<li><p>RockyLinux</p></li>
<li><p>OracleLinux</p></li>
<li><p>CloudLinux</p></li>
<li><p>AlmaLinux</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the following documentation, we will always use <em>redhat/8/x86_64/</em> or
<em>redhat/7/x86_64/</em> when setting path. Adapt this to your target distribution
and architecture.
Distribution keywords supported are: <strong>redhat</strong>, <strong>rhel</strong>, <strong>centos</strong>,
<strong>rockylinux</strong>, <strong>oraclelinux</strong>, <strong>cloudlinux</strong>, <strong>almalinux</strong>.
And supported architecture are <strong>x86_64</strong> or <strong>arm64</strong>.</p>
</div>
<p>The following configuration is recommended:</p>
<ul class="simple">
<li><p>&gt;= 2 CPU/vCPU</p></li>
<li><p>&gt;= 2 Gb RAM</p></li>
<li><p>&gt;= 40 Gb HDD</p></li>
</ul>
<p>And the following minimal configuration is the strict minimal if you wish to
test the stack in VMs:</p>
<ul class="simple">
<li><p>&gt;= 1 vCPU</p></li>
<li><p>&gt;= 2 Gb RAM (Anaconda PXE part needs a lot of RAM)</p></li>
<li><p>&gt;= 20 Gb HDD</p></li>
</ul>
<div class="section" id="isos-to-be-used">
<h3><span class="section-number">5.1.1. </span>ISOs to be used<a class="headerlink" href="#isos-to-be-used" title="Permalink to this headline">¶</a></h3>
<p>Obtain the main binary DVD from Red Hat, RockyLinux, etc. Naming is
similar to:</p>
<ul class="simple">
<li><p>rhel-8.3-x86_64-dvd.iso</p></li>
<li><p>rhel-server-7.9-x86_64-dvd.iso</p></li>
<li><p>CentOS-8.3.2011-x86_64-dvd1.iso</p></li>
<li><p>CentOS-7-x86_64-Everything-2009.iso</p></li>
<li><p>…</p></li>
</ul>
<p>You need to grab the ISO that contains all base repositories, so around the big
one of the list (&gt; 6 Gb in general).</p>
<div class="section" id="os-installation">
<h4><span class="section-number">5.1.1.1. </span>OS installation<a class="headerlink" href="#os-installation" title="Permalink to this headline">¶</a></h4>
<p>Simply write iso <strong>directly</strong> on USB stick like a binary image, do not use a
special tool. On Linux, use dd, on Microsoft Windows, use Win32DiskImager but only
version 0.9.5 (not above).</p>
<p>Then install the Linux operating system manually (boot on USB, etc).</p>
<p>It is recommended to only choose minimal install during packages selection
(core or minimal server).
Also, it is <strong>STRONGLY</strong> recommended to let system in English (US), and only
set your keyboard and time zone to your country.</p>
</div>
<div class="section" id="repositories">
<h4><span class="section-number">5.1.1.2. </span>Repositories<a class="headerlink" href="#repositories" title="Permalink to this headline">¶</a></h4>
<p>Once system is installed and rebooted, login on it.</p>
<p>We now need to prepare boot images and packages repositories.</p>
<p>Boot images include the installer system which starts the deployment after PXE
boot, while packages repositories include the software that will be installed
on the systems. On RHEL like systems, all is included in the original ISO.</p>
<p>Boot images and packages repositories structure follows a specific pattern,
which defaults to the major release version in the path:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>           Distribution    Version   Architecture    Repository
                 +             +       +               +
                 <span class="p">|</span>             +--+    <span class="p">|</span>               <span class="p">|</span>
                 +-----------+    <span class="p">|</span>    <span class="p">|</span>    +----------+
                             <span class="p">|</span>    <span class="p">|</span>    <span class="p">|</span>    <span class="p">|</span>
                             v    v    v    v
/var/www/html/repositories/redhat/8/x86_64/os/
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <em>/var/www/html</em> path given here is an example, as it may vary depending of
distribution used. What maters is the structure following this path.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This pattern parameters (distribution, version, architecture) must match
the one provided in the <strong>equipment_profile</strong> file seen later.</p>
</div>
</div>
</div>
<div class="section" id="copy-iso-on-system">
<h3><span class="section-number">5.1.2. </span>Copy iso on system<a class="headerlink" href="#copy-iso-on-system" title="Permalink to this headline">¶</a></h3>
<p>Copy iso on system.
Then mount iso and copy content to web server directory: (replace redhat/8 by
redhat/7, centos/8, centos/7, rockylinux/8, etc depending of your system).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir -p /var/www/html/repositories/redhat/8/x86_64/os/
mount rhel-8.3-x86_64-dvd.iso /mnt
cp -a /mnt/* /var/www/html/repositories/redhat/8/x86_64/os/
restorecon -Rv /var/www/html/repositories/redhat/8/x86_64/os
</pre></div>
</div>
</div>
<div class="section" id="set-os-repository">
<h3><span class="section-number">5.1.3. </span>Set OS repository<a class="headerlink" href="#set-os-repository" title="Permalink to this headline">¶</a></h3>
<p>Now, create first repository manually. Part of the procedure is different
between major versions, since base repositories were split in two with RHEL 8.</p>
<p>First step is to backup and clean current configuration:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cp -a /etc/yum.repos.d /root/yum.repos.d_native
</pre></div>
</div>
<p>Then next step depends of the major version used:</p>
<div style="border: 1px solid; margin: 0px 0px 0px 20px; padding: 6px;">
Major version: <b>7</b><br><br><p>Create file <em>/etc/yum.repos.d/os.repo</em> with the following content:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[os]
name=os
baseurl=file:///var/www/html/repositories/redhat/7/x86_64/os/
gpgcheck=0
enabled=1
</pre></div>
</div>
</div><br>
<div style="border: 1px solid; margin: 0px 0px 0px 20px; padding: 6px;">
Major version: <b>8</b><br><br><p>Create file <em>/etc/yum.repos.d/BaseOS.repo</em> with the following content:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[BaseOS]
name=BaseOS
baseurl=file:///var/www/html/repositories/redhat/8/x86_64/os/BaseOS/
gpgcheck=0
enabled=1
</pre></div>
</div>
<p>Then create file <em>/etc/yum.repos.d/AppStream.repo</em> with the following content:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[AppStream]
name=AppStream
baseurl=file:///var/www/html/repositories/redhat/8/x86_64/os/AppStream/
gpgcheck=0
enabled=1
</pre></div>
</div>
</div><br><p>If you don’t need the DVD ISO anymore, umount it:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>umount /mnt
</pre></div>
</div>
<p>Now ensure repository is available. Again, this step depends of the major
version used:</p>
<div style="border: 1px solid; margin: 0px 0px 0px 20px; padding: 6px;">
Major version: <b>7</b><br><br><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>yum repolist
</pre></div>
</div>
</div><br>
<div style="border: 1px solid; margin: 0px 0px 0px 20px; padding: 6px;">
Major version: <b>8</b><br><br><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dnf repolist
</pre></div>
</div>
</div><br></div>
<div class="section" id="bluebanquise-and-extra">
<h3><span class="section-number">5.1.4. </span>BlueBanquise and extra<a class="headerlink" href="#bluebanquise-and-extra" title="Permalink to this headline">¶</a></h3>
<p>We now need to download locally main BlueBanquise repository.
We will also setup and empty extra repository, that will be used later to store
external rpms.</p>
<div style="border: 1px solid; margin: 0px 0px 0px 20px; padding: 6px;">
Major version: <b>7</b><br><br><p>Install reposync:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>yum install yum-utils -y
</pre></div>
</div>
<p>Then create temporary external repository in a temporary folder:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir /tmp/bbrepo/
cat <span class="s">&lt;&lt; EOF &gt; /tmp/bbrepo/bluebanquise.repo</span>
<span class="s">[bluebanquise]</span>
<span class="s">name = bluebanquise</span>
<span class="s">baseurl = https://bluebanquise.com/repository/releases/latest/el7/x86_64/bluebanquise/</span>
<span class="s">gpgcheck = 0</span>
<span class="s">enabled = 1</span>
<span class="s">EOF</span>
</pre></div>
</div>
<p>Create now final repository destination, and download bluebanquise repository
locally, asking only for latest packages, and restore SELinux tags:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir /var/www/html/repositories/redhat/7/x86_64/bluebanquise
reposync --repoid<span class="o">=</span>bluebanquise -c /tmp/bbrepo/bluebanquise.repo -p /var/www/html/repositories/redhat/7/x86_64/bluebanquise --newest-only --download-metadata
restorecon -Rv /var/www/html/repositories/redhat/7/x86_64/bluebanquise
</pre></div>
</div>
<p>Now create final repository file <em>/etc/yum.repos.d/BaseOS.repo</em> with the
following content:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[bluebanquise]
name=bluebanquise
baseurl=file:///var/www/html/repositories/redhat/7/x86_64/bluebanquise/
gpgcheck=0
enabled=1
</pre></div>
</div>
<p>Now create empty extra repository:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir -p /var/www/html/repositories/redhat/7/x86_64/extra/
createrepo /var/www/html/repositories/redhat/7/x86_64/extra/
restorecon -Rv /var/www/html/repositories/redhat/7/x86_64/extra
</pre></div>
</div>
<p>And register it by adding file <em>/etc/yum.repos.d/extra.repo</em> with the following
content:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[extra]
name=extra
baseurl=file:///var/www/html/repositories/redhat/7/x86_64/extra/
gpgcheck=0
enabled=1
</pre></div>
</div>
</div><br>
<div style="border: 1px solid; margin: 0px 0px 0px 20px; padding: 6px;">
Major version: <b>8</b><br><br><p>Install reposync:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dnf install yum-utils -y
</pre></div>
</div>
<p>Then create temporary external repository in a temporary folder:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir /tmp/bbrepo/
cat <span class="s">&lt;&lt; EOF &gt; /tmp/bbrepo/bluebanquise.repo</span>
<span class="s">[bluebanquise]</span>
<span class="s">name = bluebanquise</span>
<span class="s">baseurl = https://bluebanquise.com/repository/releases/latest/el8/x86_64/bluebanquise/</span>
<span class="s">gpgcheck = 0</span>
<span class="s">enabled = 1</span>
<span class="s">EOF</span>
</pre></div>
</div>
<p>Create now final repository destination, and download bluebanquise repository
locally, asking only for latest packages, and restore SELinux tags:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir /var/www/html/repositories/redhat/8/x86_64/bluebanquise
reposync --repoid<span class="o">=</span>bluebanquise -c /tmp/bbrepo/bluebanquise.repo -p /var/www/html/repositories/redhat/8/x86_64/bluebanquise --newest-only --download-metadata
restorecon -Rv /var/www/html/repositories/redhat/8/x86_64/bluebanquise
</pre></div>
</div>
<p>Now create final repository file <em>/etc/yum.repos.d/BaseOS.repo</em> with the
following content:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[bluebanquise]
name=bluebanquise
baseurl=file:///var/www/html/repositories/redhat/8/x86_64/bluebanquise/
gpgcheck=0
enabled=1
</pre></div>
</div>
<p>Now create empty extra repository:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir -p /var/www/html/repositories/redhat/8/x86_64/extra/
createrepo /var/www/html/repositories/redhat/8/x86_64/extra/
restorecon -Rv /var/www/html/repositories/redhat/8/x86_64/extra
</pre></div>
</div>
<p>And register it by adding file <em>/etc/yum.repos.d/extra.repo</em> with the following
content:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[extra]
name=extra
baseurl=file:///var/www/html/repositories/redhat/8/x86_64/extra/
gpgcheck=0
enabled=1
</pre></div>
</div>
</div><br><div class="section" id="download-ansible">
<h4><span class="section-number">5.1.4.1. </span>Download Ansible<a class="headerlink" href="#download-ansible" title="Permalink to this headline">¶</a></h4>
<p>Now that repositories are set, it is time to download Ansible.</p>
<p>On RHEL like systems, Ansible comes from the EPEL.</p>
<p>We need to install EPEL first, then download all needed rpms, and add them to
the <em>extra</em> repository we created before.</p>
<div style="border: 1px solid; margin: 0px 0px 0px 20px; padding: 6px;">
Major version: <b>7</b><br><br><p>Install EPEL repositories:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>yum install wget
wget https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
yum install epel-release-latest-7.noarch.rpm
</pre></div>
</div>
<p>Download Ansible package and needed dependencies, and store them into the extra
repository:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>yum install --downloadonly --downloaddir<span class="o">=</span>/var/www/html/repositories/redhat/7/x86_64/extra/ ansible
</pre></div>
</div>
<p>Then update extra repository database and clean main host cache:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>createrepo --update /var/www/html/repositories/redhat/7/x86_64/extra/
yum remove epel-release-latest-7
yum clean all
</pre></div>
</div>
</div><br>
<div style="border: 1px solid; margin: 0px 0px 0px 20px; padding: 6px;">
Major version: <b>8</b><br><br><p>Install EPEL repositories:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dnf install wget
wget https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm
dnf install epel-release-latest-8.noarch.rpm
</pre></div>
</div>
<p>Download Ansible package and needed dependencies, and store them into the extra
repository:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dnf install --downloadonly --downloaddir<span class="o">=</span>/var/www/html/repositories/redhat/8/x86_64/extra/ ansible
</pre></div>
</div>
<p>Then update extra repository database and clean main host cache:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>createrepo --update /var/www/html/repositories/redhat/8/x86_64/extra/
dnf remove epel-release-latest-8
dnf clean all
</pre></div>
</div>
</div><br></div>
<div class="section" id="install-bluebanquise-and-ansible">
<h4><span class="section-number">5.1.4.2. </span>Install BlueBanquise and Ansible<a class="headerlink" href="#install-bluebanquise-and-ansible" title="Permalink to this headline">¶</a></h4>
<p>Install BlueBanquise and Ansible on the system:</p>
<div style="border: 1px solid; margin: 0px 0px 0px 20px; padding: 6px;">
Major version: <b>7</b><br><br><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>yum install bluebanquise ansible
</pre></div>
</div>
</div><br>
<div style="border: 1px solid; margin: 0px 0px 0px 20px; padding: 6px;">
Major version: <b>8</b><br><br><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dnf install bluebanquise ansible
</pre></div>
</div>
</div><br></div>
<div class="section" id="bring-up-main-nic">
<h4><span class="section-number">5.1.4.3. </span>Bring up main NIC<a class="headerlink" href="#bring-up-main-nic" title="Permalink to this headline">¶</a></h4>
<p>Finally, last part is to bring up main network interface controller, the one
with <em>10.10.0.1</em> ip on the schema given at top of the page. We will assume this
NIC is <em>enp0s8</em> here. Please adapt to your hardware (list interfaces using
<strong>ip a</strong> command).</p>
<p>First, ensure NetworkManager is installed:</p>
<div style="border: 1px solid; margin: 0px 0px 0px 20px; padding: 6px;">
Major version: <b>7</b><br><br><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>yum install NetworkManager
</pre></div>
</div>
</div><br>
<div style="border: 1px solid; margin: 0px 0px 0px 20px; padding: 6px;">
Major version: <b>8</b><br><br><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dnf install NetworkManager
</pre></div>
</div>
</div><br><p>Then ensure it is started:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>systemctl start NetworkManager
systemctl <span class="nb">enable</span> NetworkManager
</pre></div>
</div>
<p>And configure your interface to set a manual ipv4 address on it, then bring it
up:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>nmcli con mod enps08 ipv4.addresses <span class="m">10</span>.10.0.1/16
nmcli con mod enps08 ipv4.method manual
nmcli con up enps08
</pre></div>
</div>
<p>Using <em>ip a</em> command, you should now see your ip set on the interface.</p>
</div>
</div>
</div>
<div class="section" id="bootstrap-ubuntu-like-system">
<h2><span class="section-number">5.2. </span>Bootstrap Ubuntu like system<a class="headerlink" href="#bootstrap-ubuntu-like-system" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="bootstrap-suse-like-system">
<h2><span class="section-number">5.3. </span>Bootstrap SUSE like system<a class="headerlink" href="#bootstrap-suse-like-system" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>It is now time to configure BlueBanquise.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="configure_bluebanquise.html" class="btn btn-neutral float-right" title="6. [Core] - Configure BlueBanquise" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="training_ansible.html" class="btn btn-neutral float-left" title="4. [Training] - Ansible" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2019, Benoît Leveugle, Johnny Keats.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>