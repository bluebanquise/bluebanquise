

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>7. [Core] - Deploy BlueBanquise &mdash; BlueBanquise Documentation 1.5.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="8. [Core] - Manage multiple icebergs" href="multiple_icebergs.html" />
    <link rel="prev" title="6. [Core] - Configure BlueBanquise" href="configure_bluebanquise.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> BlueBanquise Documentation
          

          
            
            <img src="_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="vocabulary.html">2. Vocabulary</a></li>
<li class="toctree-l1"><a class="reference internal" href="training_sysadmin.html">3. [Training] - Cluster SysAdmin</a></li>
<li class="toctree-l1"><a class="reference internal" href="training_ansible.html">4. [Training] - Ansible</a></li>
<li class="toctree-l1"><a class="reference internal" href="bootstrap.html">5. [Core] - Bootstrap base system</a></li>
<li class="toctree-l1"><a class="reference internal" href="configure_bluebanquise.html">6. [Core] - Configure BlueBanquise</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">7. [Core] - Deploy BlueBanquise</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#management-deployment">7.1. Management deployment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#get-managements-playbook">7.1.1. Get managements playbook</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ansible-playbook">7.1.2. Ansible-playbook</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#tags-skip-tags">7.1.2.1. Tags / Skip tags</a></li>
<li class="toctree-l4"><a class="reference internal" href="#extra-vars">7.1.2.2. Extra vars</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#apply-management1-configuration">7.1.3. Apply management1 configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#deploy-os-on-other-nodes-pxe">7.2. Deploy OS on other nodes: PXE</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pxe-process-overview">7.2.1. PXE process overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bootset">7.2.2. bootset</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ssh-public-key">7.2.3. SSH public key</a></li>
<li class="toctree-l3"><a class="reference internal" href="#os-deployment">7.2.4. OS deployment</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#apply-other-nodes-configuration">7.3. Apply other nodes configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="multiple_icebergs.html">8. [Core] - Manage multiple icebergs</a></li>
<li class="toctree-l1"><a class="reference internal" href="diskless.html">9. [Core] - Diskless</a></li>
<li class="toctree-l1"><a class="reference internal" href="high_availability.html">10. [Community] - High Availability</a></li>
<li class="toctree-l1"><a class="reference internal" href="monitoring.html">11. [Community] - Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="containers.html">12. Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="stories.html">13. Stories</a></li>
<li class="toctree-l1"><a class="reference internal" href="roles.html">14. Roles list</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">15. References</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">BlueBanquise Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li><span class="section-number">7. </span>[Core] - Deploy BlueBanquise</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/deploy_bluebanquise.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="core-deploy-bluebanquise">
<h1><span class="section-number">7. </span>[Core] - Deploy BlueBanquise<a class="headerlink" href="#core-deploy-bluebanquise" title="Permalink to this headline">¶</a></h1>
<p>At this point, <strong>BlueBanquise</strong> configuration is done. We are ready to deploy
the cluster.</p>
<p>We are going to proceed in the following order:</p>
<p>1. Deploy configuration on management1 node
3. Deploy fresh OS on the other nodes, from management1
4. Deploy configuration on the other nodes.</p>
<div class="section" id="management-deployment">
<h2><span class="section-number">7.1. </span>Management deployment<a class="headerlink" href="#management-deployment" title="Permalink to this headline">¶</a></h2>
<div class="section" id="get-managements-playbook">
<h3><span class="section-number">7.1.1. </span>Get managements playbook<a class="headerlink" href="#get-managements-playbook" title="Permalink to this headline">¶</a></h3>
<p>We are going to use the provided default playbook. This playbook will install
most of the <strong>CORE</strong> roles. Enough to deploy first stage of the cluster.</p>
<p>Copy example playbook managements to <em>/etc/bluebanquise/playbooks/</em>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir /etc/bluebanquise/playbooks/
cp -a /etc/bluebanquise/resources/examples/simple_cluster/playbooks/managements.yml /etc/bluebanquise/playbooks/
</pre></div>
</div>
<p>Then, we will ask Ansible to read this playbook, and execute all roles listed
inside on management1 node (check hosts at top of the file).</p>
<p>To do so, we are going to use the <strong>ansible-playbook</strong> command.</p>
</div>
<div class="section" id="ansible-playbook">
<h3><span class="section-number">7.1.2. </span>Ansible-playbook<a class="headerlink" href="#ansible-playbook" title="Permalink to this headline">¶</a></h3>
<p><em>ansible-playbook</em> is the command used to ask Ansible to execute a playbook.</p>
<p>We are going to use 2 parameters frequently:</p>
<div class="section" id="tags-skip-tags">
<h4><span class="section-number">7.1.2.1. </span>Tags / Skip tags<a class="headerlink" href="#tags-skip-tags" title="Permalink to this headline">¶</a></h4>
<p>As you can notice, some tags are set inside the playbook, or even in some roles
for specific tasks. The idea of tags is simple: you can tag a role/task, and
then when using ansible-playbook, only play related tags role/task. Or do the
opposite: play all, and skip a role/task.</p>
<p>To so, use with Ansible playbook:</p>
<ul class="simple">
<li><p><strong>–tags</strong> with tags listed with comma separator: mytag1,mytag2,mytag3</p></li>
<li><p><strong>–skip-tags</strong> with same pattern</p></li>
</ul>
<p>Additional documentation about tags usage in playbooks is available
<a class="reference external" href="https://docs.ansible.com/ansible/latest/user_guide/playbooks_tags.html">here</a>.</p>
</div>
<div class="section" id="extra-vars">
<h4><span class="section-number">7.1.2.2. </span>Extra vars<a class="headerlink" href="#extra-vars" title="Permalink to this headline">¶</a></h4>
<p>Extra-vars allows to pass variables with maximum precedence at execution time,
for any purpose (debug, test, or simply need).</p>
<p>To do so, use:</p>
<ul class="simple">
<li><p><strong>–extra-vars</strong> with ” ” and space separated variables: –extra-vars “myvar1=true myvar2=77 myvar3=hello”</p></li>
</ul>
</div>
</div>
<div class="section" id="apply-management1-configuration">
<h3><span class="section-number">7.1.3. </span>Apply management1 configuration<a class="headerlink" href="#apply-management1-configuration" title="Permalink to this headline">¶</a></h3>
<p>Lets apply now the whole configuration on management1. It can take some time
depending on your CPU and your hard drive.</p>
<p>We first ensure our NIC are up, so the repositories part is working.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ansible-playbook /etc/bluebanquise/playbooks/managements.yml --limit management1 --tags set_hostname,nic_nmcli
</pre></div>
</div>
<p>Check interfaces are up (check using <em>ip a</em> command), and execute the
bluebanquise role and the repositories_server role:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>ansible-playbook /etc/bluebanquise/playbooks/managements.yml --limit management1 --tags bluebanquise,repositories_server
</pre></div>
</div>
<p>This will install the requirements to run BlueBanquise (mostly python filters
for Ansible), and ensure the web server of local repositories is running.</p>
<p>Then play the whole playbook:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>ansible-playbook /etc/bluebanquise/playbooks/managements.yml --limit management1
</pre></div>
</div>
<p>And wait…</p>
<p>If all went well, you can check that all services are up and running.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can replay the same ansible-playbook command over and over, Ansible will
just update/correct what is needed, and do nothing for all that is at an
expected state.</p>
</div>
<p>Now that management1 is up and running, it is time to deploy the other nodes.</p>
</div>
</div>
<div class="section" id="deploy-os-on-other-nodes-pxe">
<h2><span class="section-number">7.2. </span>Deploy OS on other nodes: PXE<a class="headerlink" href="#deploy-os-on-other-nodes-pxe" title="Permalink to this headline">¶</a></h2>
<p>Next step is to deploy the other nodes using PXE process.</p>
<p>NOTE: it is assumed here you know how to have your other nodes / VM / servers /
workstation to boot on LAN.</p>
<p>If your device cannot boot on LAN, use iso or usb image provided on management1
in /var/www/html/preboot_execution_environment/bin/[x86_64|arm64]. These images
will start a LAN boot automatically, even if your computer is not PXE able
natively.</p>
<p>In <strong>BlueBanquise</strong>, PXE process has been made so that any kind of hardware able
to boot PXE, USB or CDrom can start deployment.</p>
<div class="section" id="pxe-process-overview">
<h3><span class="section-number">7.2.1. </span>PXE process overview<a class="headerlink" href="#pxe-process-overview" title="Permalink to this headline">¶</a></h3>
<p>You can get more information and a detailed schema in the pxe_stack role section
of this documentation. Simply explained, the PXE chain is the following (files
are in /var/www/html/preboot_execution_environment):</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>DHCP request
  |
IP obtained, next-server obtained
  |
Download (tftp) and load bluebanquise iPXE ROM
  |
DHCP request again with new ROM
  |
iPXE chain to convergence.ipxe (using http)
  |
iPXE chain to nodes/myhostname.ipxe (get dedicated values)
  |
iPXE chain to equipment_profiles/my_equipment_profile.ipxe (get group dedicated values)
  |
iPXE chain to menu.ipxe
  |
iPXE chain to task specified in myhostname.ipxe (deploy os, boot on disk, etc)
</pre></div>
</div>
<p>Whatever the boot source, and whatever Legacy BIOS or UEFI, all converge to
<a class="reference external" href="http:/">http:/</a>/${next-server}/preboot_execution_environment/convergence.ipxe. Then this
file chain to node specific file in nodes (this file is generated using <em>bootset</em>
command). The node specific file contains the default entry for the iPXE menu,
then node chain to its equipment_profile file, to gather group values, and chain
again to menu file. The menu file display a simple menu, and wait 10s for user
before starting the default entry (which can be os deployment, or boot to disk,
or boot diskless).</p>
<p>The following slides explain the whole PXE process of the BlueBanquise stack:</p>
<!-- from https://www.w3schools.com/howto/howto_js_slideshow.asp -->
<script>
var slideIndex = 1;
showSlides(slideIndex);
// Next/previous controls
function plusSlides(n) {
  showSlides(slideIndex += n);
}
// Thumbnail image controls
function currentSlide(n) {
  showSlides(slideIndex = n);
}
function showSlides(n) {
  var i;
  var slides = document.getElementsByClassName("mySlides");
  var dots = document.getElementsByClassName("dot");
  if (n > slides.length) {slideIndex = 1}
  if (n < 1) {slideIndex = slides.length}
  for (i = 0; i < slides.length; i++) {
      slides[i].style.display = "none";
  }
  for (i = 0; i < dots.length; i++) {
      dots[i].className = dots[i].className.replace(" active", "");
  }
  slides[slideIndex-1].style.display = "block";
  dots[slideIndex-1].className += " active";
}
</script>
<!-- Slideshow container -->
<div class="slideshow-container">
   <!-- Full-width images with number and caption text -->
   <div class="mySlides">
     <div class="numbertext">1 / 18</div>
     <img src="_static/deploy_bluebanquise_pxe_slides/Slide1.PNG" style="width:100%">
   </div>
   <div class="mySlides">
     <div class="numbertext">2 / 18</div>
     <img src="_static/deploy_bluebanquise_pxe_slides/Slide2.PNG" style="width:100%">
   </div>
   <div class="mySlides">
     <div class="numbertext">3 / 18</div>
     <img src="_static/deploy_bluebanquise_pxe_slides/Slide3.PNG" style="width:100%">
   </div>
   <div class="mySlides">
     <div class="numbertext">4 / 18</div>
     <img src="_static/deploy_bluebanquise_pxe_slides/Slide4.PNG" style="width:100%">
   </div>
   <div class="mySlides">
     <div class="numbertext">5 / 18</div>
     <img src="_static/deploy_bluebanquise_pxe_slides/Slide5.PNG" style="width:100%">
   </div>
   <div class="mySlides">
     <div class="numbertext">6 / 18</div>
     <img src="_static/deploy_bluebanquise_pxe_slides/Slide6.PNG" style="width:100%">
   </div>
   <div class="mySlides">
     <div class="numbertext">7 / 18</div>
     <img src="_static/deploy_bluebanquise_pxe_slides/Slide7.PNG" style="width:100%">
   </div>
   <div class="mySlides">
     <div class="numbertext">8 / 18</div>
     <img src="_static/deploy_bluebanquise_pxe_slides/Slide8.PNG" style="width:100%">
   </div>
   <div class="mySlides">
     <div class="numbertext">9 / 18</div>
     <img src="_static/deploy_bluebanquise_pxe_slides/Slide9.PNG" style="width:100%">
   </div>
   <div class="mySlides">
     <div class="numbertext">10 / 18</div>
     <img src="_static/deploy_bluebanquise_pxe_slides/Slide10.PNG" style="width:100%">
   </div>
   <div class="mySlides">
     <div class="numbertext">11 / 18</div>
     <img src="_static/deploy_bluebanquise_pxe_slides/Slide11.PNG" style="width:100%">
   </div>
   <div class="mySlides">
     <div class="numbertext">12 / 18</div>
     <img src="_static/deploy_bluebanquise_pxe_slides/Slide12.PNG" style="width:100%">
   </div>
   <div class="mySlides">
     <div class="numbertext">13 / 18</div>
     <img src="_static/deploy_bluebanquise_pxe_slides/Slide13.PNG" style="width:100%">
   </div>
   <div class="mySlides">
     <div class="numbertext">14 / 18</div>
     <img src="_static/deploy_bluebanquise_pxe_slides/Slide14.PNG" style="width:100%">
   </div>
   <div class="mySlides">
     <div class="numbertext">15 / 18</div>
     <img src="_static/deploy_bluebanquise_pxe_slides/Slide15.PNG" style="width:100%">
   </div>
   <div class="mySlides">
     <div class="numbertext">16 / 18</div>
     <img src="_static/deploy_bluebanquise_pxe_slides/Slide16.PNG" style="width:100%">
   </div>
   <div class="mySlides">
     <div class="numbertext">17 / 18</div>
     <img src="_static/deploy_bluebanquise_pxe_slides/Slide17.PNG" style="width:100%">
   </div>
   <div class="mySlides">
     <div class="numbertext">18 / 18</div>
     <img src="_static/deploy_bluebanquise_pxe_slides/Slide17.PNG" style="width:100%">
   </div>
   <!-- Next and previous buttons -->
   <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
   <a class="next" onclick="plusSlides(1)">&#10095;</a>
</div>
<br>
<!-- The dots/circles -->
<div style="text-align:center">
  <span class="dot" onclick="currentSlide(1)"></span>
  <span class="dot" onclick="currentSlide(2)"></span>
  <span class="dot" onclick="currentSlide(3)"></span>
  <span class="dot" onclick="currentSlide(4)"></span>
  <span class="dot" onclick="currentSlide(5)"></span>
  <span class="dot" onclick="currentSlide(6)"></span>
  <span class="dot" onclick="currentSlide(7)"></span>
  <span class="dot" onclick="currentSlide(8)"></span>
  <span class="dot" onclick="currentSlide(9)"></span>
  <span class="dot" onclick="currentSlide(10)"></span>
  <span class="dot" onclick="currentSlide(11)"></span>
  <span class="dot" onclick="currentSlide(12)"></span>
  <span class="dot" onclick="currentSlide(13)"></span>
  <span class="dot" onclick="currentSlide(14)"></span>
  <span class="dot" onclick="currentSlide(15)"></span>
  <span class="dot" onclick="currentSlide(16)"></span>
  <span class="dot" onclick="currentSlide(17)"></span>
  <span class="dot" onclick="currentSlide(18)"></span>
</div>
<!-- Addon from Benoit Leveugle: force slide1 after page load -->
<script type="module">
  currentSlide(1)
</script></div>
<div class="section" id="bootset">
<h3><span class="section-number">7.2.2. </span>bootset<a class="headerlink" href="#bootset" title="Permalink to this headline">¶</a></h3>
<p>Before booting remote nodes in PXE, we need to ask management1 to activate
remote nodes deployment. If not, remote nodes will not be able to grab their
dedicated configuration from management node at boot.</p>
<p>To manipulate nodes PXE boot, a command, <strong>bootset</strong>, is available.</p>
<p>We are going to deploy login1, storage1 and compute1, compute2, compute3 and compute4.</p>
<p>Let’s use bootset to set them to deploy OS at next PXE boot:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bootset -n login1,storage1,c<span class="o">[</span><span class="m">001</span>-004<span class="o">]</span> -b osdeploy
</pre></div>
</div>
<p>You can check the result using:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bootset -n login1,storage1,c<span class="o">[</span><span class="m">001</span>-004<span class="o">]</span> -s
</pre></div>
</div>
<p>Which should return:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[INFO] Loading /etc/bootset/nodes_parameters.yml
[INFO] Loading /etc/bootset/pxe_parameters.yml
Next boot deployment: c[001-004],login1,storage1
</pre></div>
</div>
<p>Note that this osdeploy state will be automatically updated once OS is deployed
on remote nodes, and set to disk.</p>
<p>You can also force nodes that boot on PXE to boot on disk using <em>-b disk</em>
instead of <em>-b osdeploy</em>.</p>
<p>Please refer to the pxe_stack role dedicated section in this documentation for
more information on the bootset usage.</p>
</div>
<div class="section" id="ssh-public-key">
<h3><span class="section-number">7.2.3. </span>SSH public key<a class="headerlink" href="#ssh-public-key" title="Permalink to this headline">¶</a></h3>
<p>In order to log into the remote nodes without giving the password, check that
the ssh public key defined in authentication.yml in your inventory match your
management1 public key (the one generated in /root/.ssh/). If not, update the
key in authentication.yml and remember to re-run the pxe_stack role (to update
PXE related files that contains the ssh public key of the management node to be
set on nodes during deployment).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ansible-playbook /etc/bluebanquise/playbooks/managements.yml --tags pxe_stack
</pre></div>
</div>
</div>
<div class="section" id="os-deployment">
<h3><span class="section-number">7.2.4. </span>OS deployment<a class="headerlink" href="#os-deployment" title="Permalink to this headline">¶</a></h3>
<p>Power on now the remote nodes, have them boot over LAN, and watch the automatic
installation procedure. It should take around 5-20 minutes depending on your
hardware.</p>
<p>Once done, proceed to next part.</p>
</div>
</div>
<div class="section" id="apply-other-nodes-configuration">
<h2><span class="section-number">7.3. </span>Apply other nodes configuration<a class="headerlink" href="#apply-other-nodes-configuration" title="Permalink to this headline">¶</a></h2>
<p>Now that all the nodes have an operating system installed and running, applying
configuration on these nodes is simple.</p>
<p>Ensure first you can ssh passwordless on each of the freshly deployed nodes.</p>
<p>On some Linux distributions, if DHCP leases are short, you may loose
ip shortly after system is booted. If that happen, reboot system to get an ip
again. This issue is solved once the nic_nmcli role has been applied on hosts,
as it sets ip statically.</p>
<p>If yes, copy example playbooks:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cp -a /etc/bluebanquise/resources/examples/simple_cluster/playbooks/computes.yml /etc/bluebanquise/playbooks/
cp -a /etc/bluebanquise/resources/examples/simple_cluster/playbooks/logins.yml /etc/bluebanquise/playbooks/
cp -a /etc/bluebanquise/resources/examples/simple_cluster/playbooks/storages.yml /etc/bluebanquise/playbooks/
</pre></div>
</div>
<p>And execute them, using –limit parameter to specify targets:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ansible-playbook /etc/bluebanquise/playbooks/logins.yml
ansible-playbook /etc/bluebanquise/playbooks/storages.yml
ansible-playbook /etc/bluebanquise/playbooks/computes.yml --limit compute1,compute2,compute3,compute4
</pre></div>
</div>
<p>You can see that Ansible will work on computes nodes in parallel, using more CPU
on the management1 node (by spawning multiple forks).</p>
<hr class="docutils" />
<p>Your cluster should now be fully deployed the generic way: operating systems are
deployed on each hosts, and basic services (DNS, repositories, time
synchronization, etc.) are up and running.</p>
<p>It is time to use some <a class="reference external" href="https://github.com/bluebanquise/community">COMMUNITY</a>
roles to add specific features to the cluster and/or specialize it.
(Please refer to each community roles dedicated documentation to get
instructions on how to use them), or continue this documentation to:</p>
<hr class="docutils" />
<ul class="simple">
<li><dl class="simple">
<dt>BlueBanquise generic cluster</dt><dd><ul>
<li><p>Deploy High Availability with multiple managements nodes</p></li>
<li><p>Deploy a multi icebergs cluster</p></li>
<li><p>Deploy diskless nodes</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>BlueBanquise specialized cluster</dt><dd><ul>
<li><p>Deploy Prometheus (Monitoring your cluster)</p></li>
<li><p>Deploy Slurm (Specialize your cluster for High Performance Computing)</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>You will also find a “stories” section that describes step by step few recurrent
situation you may face during the life of your cluster.</p>
<p>Thank your for following this training. We really hope you will enjoy the stack.
Please report us any bad or good feedback.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="multiple_icebergs.html" class="btn btn-neutral float-right" title="8. [Core] - Manage multiple icebergs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="configure_bluebanquise.html" class="btn btn-neutral float-left" title="6. [Core] - Configure BlueBanquise" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2019, Benoît Leveugle, Johnny Keats.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>